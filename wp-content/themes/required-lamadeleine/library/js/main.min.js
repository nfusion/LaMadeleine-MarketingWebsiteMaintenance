/***
/* La Madeleine
/* Custom JavaScript
/*
**/$(function(){$content=$("#content");var e=$.cookie("LAM-location");if(typeof e!="undefined")var t=$.parseJSON(e),n=!0;var r=$("#nav .nav-wrapper");if(r.length){var i=$("#header .icon-menu");if(Modernizr.touch)i.on("touchend",function(){$("body").toggleClass("nav-active")});else{i.on("mouseover",function(){$("body").addClass("nav-active")});r.on("mouseleave",function(){$("body").removeClass("nav-active")})}}if($content.hasClass("breakfast")||$content.hasClass("lunch")||$content.hasClass("dinner")||$content.hasClass("bakery")){t&&$content.find(".menu-details").addClass(t.menu_pricing.toLowerCase());$("#sidebar .menu-legend").sticky({topSpacing:20,className:"menu",getWidthFrom:"#sidebar .sidebar-wrapper"})}if(n){$("body").addClass("has-location");$(".lam-call a").attr("href","tel:"+t.phone)}else $("body").addClass("no-location");$content.find(".btn.get-directions").on("click touchend",function(e){e.preventDefault();LaMadLocations.getDirections()});$content.find(".btn-light.get-directions").on("click touchend",function(e){e.preventDefault();LaMadLocations.getDirections()});var s=$("#mobile-location"),o=function(){var e=LaMadLocations.getTodayHours(t);str='<div class="icon-phone"><a href="tel:'+t.phone+'"></a></div><a class="location-link" href="/locations"></a><div class="location-text"><p class="title">'+t.title+'</p><p class="hours"><strong>Today\'s Hours:</strong> '+e.open+" - "+e.close+"</p>";s.append(str);s.addClass("loaded")};s.length&&s.is(":visible")&&n&&o();var u=$("#header");u.find(".lam-geolocate").on("click touchstart",function(){LaMadLocations.getLocation();$(this).hide();u.find(".loading").show();locateInt=setInterval(function(){console.log(LaMadLocations.nearestLocationObj.id);if(LaMadLocations.nearestLocationObj.id){clearInterval(locateInt);u.find(".loading").hide();t=LaMadLocations.nearestLocationObj;u.find(".lam-call a").attr("href","tel:"+t.phone);o()}},100)});var a=$("#carousel");if(a.length){var f=a.find(".carousel-controls"),l=a.find(".carousel-paginate");window.mySwipe=new Swipe(document.getElementById("carousel"),{startSlide:0,speed:500,auto:0,callback:function(e,t){l.find(".active").removeClass("active");l.find(".dot:nth-child("+(e+1)+")").addClass("active")}});f.find(".prev").on("click",function(){mySwipe.prev()});f.find(".next").on("click",function(){mySwipe.next()});l.find(".dot").on("click",function(){mySwipe.slide($(this).data("order"))})}});