/***
/* La Madeleine
/* Custom JavaScript
/*
**/window.lamIE8=!1;$(function(){function N(){var e=T.indexOf("MSIE ");(e>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))&&$("html").addClass("ie")}var e=$("#content"),t=e.find("#main"),n=e.find("#sidebar");$("html").hasClass("ie8")&&(window.lamIE8=!0);var r=$.cookie("LAM-location");if(typeof r!="undefined")var i=$.parseJSON(r),s=!0;var o=$.cookie("LAM-daypart");if(typeof o!="undefined")var u=$.parseJSON(o),a=!0;var f=$("#nav .nav-wrapper");if(f.length){var l=$("#header .icon-menu");if(Modernizr.touch)l.on("touchend",function(){$("body").toggleClass("nav-active")});else{l.on("mouseover",function(){$("body").addClass("nav-active")});f.on("mouseleave",function(){$("body").removeClass("nav-active")})}}if(e.hasClass("breakfast")||e.hasClass("lunch")||e.hasClass("dinner")||e.hasClass("bakery")){e.find(".back-top").on("click touchend",function(e){e.preventDefault();$("html, body").animate({scrollTop:0},1e3)});if(i){e.find(".menu-details").addClass(i.menu_pricing.toLowerCase());e.find(".set-location").html('<div class="location-name">'+i.title+'<div class="change-location">(<a href="/locations">Change</a>)</div></div>')}var c=setInterval(function(){if(n.find(".widget-daypart").length>0){clearInterval(c);n.find("ul.categories li").on("click",function(e){e.preventDefault();var t=$(this).data("cat-name");$("html, body").animate({scrollTop:$("#category-"+t).offset().top},1e3)})}},1e3),h=function(){n.is(":visible")&&n.find("#sticky-widgets").sticky({topSpacing:20,className:"menu",getWidthFrom:"#sidebar .sidebar-wrapper"})};h();var p=debounce(function(){n.find("#sticky-widgets").unstick();h()},250);lamIE8||window.addEventListener("resize",p)}a&&e.find("a.daypart-menu").attr("href",u.link.guid);if(s){$("body").addClass("has-location");$(".lam-call a").attr("href","tel:"+i.phone)}else $("body").addClass("no-location");var d=$("#mobile-location"),v=function(){var e=LaMadLocations.getTodayHours(i);str='<div class="icon-phone"><a href="tel:'+i.phone+'"></a></div><a class="location-link" href="/locations"></a><div class="location-text"><p class="title">'+i.title+'</p><p class="hours"><strong>Today\'s Hours:</strong> '+e.open+" - "+e.close+"</p>";d.append(str);d.addClass("loaded")};d.length&&d.is(":visible")&&s&&v();var m=$("#header");m.find(".lam-geolocate").on("click touchstart",function(){LaMadLocations.getLocation();$(this).hide();m.find(".loading").show();locateInt=setInterval(function(){if(LaMadLocations.nearestLocationObj.id){clearInterval(locateInt);m.find(".loading").hide();i=LaMadLocations.nearestLocationObj;m.find(".lam-call a").attr("href","tel:"+i.phone);v()}},100)});var g=$("#carousel");if(g.length>0){var y=g.find(".carousel-controls"),b=g.find(".carousel-paginate");window.mySwipe=new Swipe(document.getElementById("carousel"),{startSlide:0,speed:500,auto:8e3,callback:function(e,t){b.find(".active").removeClass("active");b.find(".dot:nth-child("+(e+1)+")").addClass("active")}});var w=function(){if(window.mySwipe.getNumSlides()>0){g.find(".carousel-item.has-gradient-1").prepend('<div class="carousel-gradient"></div>');clearInterval(E)}},E=setInterval(w,100);w();y.find(".prev").on("click",function(){mySwipe.prev()});y.find(".next").on("click",function(){mySwipe.next()});b.find(".dot").on("click",function(){mySwipe.slide($(this).data("order"))})}var S=function(){n.is(":visible")&&n.find(".fma-promo").length>0&&n.find(".fma-promo").sticky({topSpacing:20,className:"promo",getWidthFrom:"#sidebar .sidebar-wrapper"})};S();var x=debounce(function(){n.find(".fma-promo").unstick();S()},250);lamIE8||window.addEventListener("resize",x);var T=window.navigator.userAgent;N();lamIE8&&t.find(".menu-title").length>0&&t.find(".menu-category").last().addClass("last-category");if(T.indexOf("Android")>=0){var C=parseFloat(T.slice(T.indexOf("Android")+8));$("html").addClass("android"+C)}});