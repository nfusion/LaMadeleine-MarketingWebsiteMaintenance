/***
/* La Madeleine
/* Custom JavaScript
/*
**/$(function(){$content=$("#content");var e=$.cookie("LAM-location");if(typeof e!="undefined")var t=$.parseJSON(e),n=!0;var r=$.cookie("LAM-daypart");if(typeof r!="undefined")var i=$.parseJSON(r),s=!0;var o=$("#nav .nav-wrapper");if(o.length){var u=$("#header .icon-menu");if(Modernizr.touch)u.on("touchend",function(){$("body").toggleClass("nav-active")});else{u.on("mouseover",function(){$("body").addClass("nav-active")});o.on("mouseleave",function(){$("body").removeClass("nav-active")})}}if($content.hasClass("breakfast")||$content.hasClass("lunch")||$content.hasClass("dinner")||$content.hasClass("bakery")){t&&$content.find(".menu-details").addClass(t.menu_pricing.toLowerCase());$("#sidebar .menu-legend").sticky({topSpacing:20,className:"menu",getWidthFrom:"#sidebar .sidebar-wrapper"})}s&&$content.find("a.daypart-menu").attr("href",i.link.guid);if(n){$("body").addClass("has-location");$(".lam-call a").attr("href","tel:"+t.phone);$content.find("a.get-directions").on("click touchend",function(e){e.preventDefault();LaMadLocations.getDirections()})}else $("body").addClass("no-location");var a=$("#mobile-location"),f=function(){var e=LaMadLocations.getTodayHours(t);str='<div class="icon-phone"><a href="tel:'+t.phone+'"></a></div><a class="location-link" href="/locations"></a><div class="location-text"><p class="title">'+t.title+'</p><p class="hours"><strong>Today\'s Hours:</strong> '+e.open+" - "+e.close+"</p>";a.append(str);a.addClass("loaded")};a.length&&a.is(":visible")&&n&&f();var l=$("#header");l.find(".lam-geolocate").on("click touchstart",function(){LaMadLocations.getLocation();$(this).hide();l.find(".loading").show();locateInt=setInterval(function(){console.log(LaMadLocations.nearestLocationObj.id);if(LaMadLocations.nearestLocationObj.id){clearInterval(locateInt);l.find(".loading").hide();t=LaMadLocations.nearestLocationObj;l.find(".lam-call a").attr("href","tel:"+t.phone);f()}},100)});var c=$("#carousel");if(c.length){var h=c.find(".carousel-controls"),p=c.find(".carousel-paginate");window.mySwipe=new Swipe(document.getElementById("carousel"),{startSlide:0,speed:500,auto:0,callback:function(e,t){p.find(".active").removeClass("active");p.find(".dot:nth-child("+(e+1)+")").addClass("active")}});h.find(".prev").on("click",function(){mySwipe.prev()});h.find(".next").on("click",function(){mySwipe.next()});p.find(".dot").on("click",function(){mySwipe.slide($(this).data("order"))})}});