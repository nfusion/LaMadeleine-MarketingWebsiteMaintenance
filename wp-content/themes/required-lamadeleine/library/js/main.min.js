/***
/* La Madeleine
/* Custom JavaScript
/*
**/$(function(){function y(){var e=window.navigator.userAgent,t=e.indexOf("MSIE ");(t>0||!!navigator.userAgent.match(/Trident.*rv\:11\./))&&$("html").addClass("ie")}var e=$("#content"),t=e.find("#main"),n=e.find("#sidebar"),r=$.cookie("LAM-location");if(typeof r!="undefined")var i=$.parseJSON(r),s=!0;var o=$.cookie("LAM-daypart");if(typeof o!="undefined")var u=$.parseJSON(o),a=!0;var f=$("#nav .nav-wrapper");if(f.length){var l=$("#header .icon-menu");if(Modernizr.touch)l.on("touchend",function(){$("body").toggleClass("nav-active")});else{l.on("mouseover",function(){$("body").addClass("nav-active")});f.on("mouseleave",function(){$("body").removeClass("nav-active")})}}if(e.hasClass("breakfast")||e.hasClass("lunch")||e.hasClass("dinner")||e.hasClass("bakery")){i&&e.find(".menu-details").addClass(i.menu_pricing.toLowerCase());var c=setInterval(function(){if(n.find(".widget-daypart").length>0){clearInterval(c);n.find("ul.categories li").on("click",function(e){e.preventDefault();var t=$(this).data("cat-name");console.log($("#category-"+t));$("html, body").animate({scrollTop:$("#category-"+t).offset().top},1e3)})}},1e3);n.is(":visible")&&n.find(".menu-legend").sticky({topSpacing:20,className:"menu",getWidthFrom:"#sidebar .sidebar-wrapper"})}a&&e.find("a.daypart-menu").attr("href",u.link.guid);if(s){$("body").addClass("has-location");$(".lam-call a").attr("href","tel:"+i.phone);e.find("a.get-directions").on("click touchend",function(e){e.preventDefault();LaMadLocations.getDirections()})}else $("body").addClass("no-location");var h=$("#mobile-location"),p=function(){var e=LaMadLocations.getTodayHours(i);str='<div class="icon-phone"><a href="tel:'+i.phone+'"></a></div><a class="location-link" href="/locations"></a><div class="location-text"><p class="title">'+i.title+'</p><p class="hours"><strong>Today\'s Hours:</strong> '+e.open+" - "+e.close+"</p>";h.append(str);h.addClass("loaded")};h.length&&h.is(":visible")&&s&&p();var d=$("#header");d.find(".lam-geolocate").on("click touchstart",function(){LaMadLocations.getLocation();$(this).hide();d.find(".loading").show();locateInt=setInterval(function(){console.log(LaMadLocations.nearestLocationObj.id);if(LaMadLocations.nearestLocationObj.id){clearInterval(locateInt);d.find(".loading").hide();i=LaMadLocations.nearestLocationObj;d.find(".lam-call a").attr("href","tel:"+i.phone);p()}},100)});var v=$("#carousel");if(v.length>0){var m=v.find(".carousel-controls"),g=v.find(".carousel-paginate");window.mySwipe=new Swipe(document.getElementById("carousel"),{startSlide:0,speed:500,auto:0,callback:function(e,t){g.find(".active").removeClass("active");g.find(".dot:nth-child("+(e+1)+")").addClass("active")}});m.find(".prev").on("click",function(){mySwipe.prev()});m.find(".next").on("click",function(){mySwipe.next()});g.find(".dot").on("click",function(){mySwipe.slide($(this).data("order"))})}n.is(":visible")&&n.find(".fma-promo").sticky({topSpacing:20,className:"promo",getWidthFrom:"#sidebar .sidebar-wrapper"});y()});